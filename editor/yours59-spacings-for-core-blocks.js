(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},e.apply(this,arguments)}const{Fragment:t}=wp.element,{ToggleControl:n,PanelBody:a,TabPanel:s,__experimentalBoxControl:o}=wp.components,{InspectorControls:i}=wp.blockEditor,r=o,l=["top","bottom","left","right"],c=["margin","padding"],p=["desktop","tablet","mobile"],u=window.yours59_spacings_server_side_settings?window.yours59_spacings_server_side_settings:{show_margin:!0,show_padding:!0,min:-20,max:20,step_width:.125};function m(){const e=[];return p.forEach((t=>{l.forEach((n=>{c.forEach((a=>{e.push(`${t}_${n}_${a}`)}))}))})),e}wp.hooks.addFilter("blocks.registerBlockType","yours59/filters",(function(e,t){if(!1===t.includes("core/"))return e;const n={};return m().forEach((e=>{n[e]={type:"string",default:"undefined"}})),void 0!==e.attributes&&Object.assign(e.attributes,{enableCustomBlockGaps:{type:"boolean",default:!1},enableCustomSpacing_desktop:{type:"boolean",default:!1},enableCustomSpacing_tablet:{type:"boolean",default:!1},enableCustomSpacing_mobile:{type:"boolean",default:!1},topType:{type:"string",default:"none"},gapTopInt:{type:"integer",default:0},bottomType:{type:"string",default:"none"},gapBottomInt:{type:"integer",default:0},leftType:{type:"string",default:"none"},gapLeftInt:{type:"integer",default:0},rightType:{type:"string",default:"none"},gapRightInt:{type:"integer",default:0},...n}),e}));const d=wp.compose.createHigherOrderComponent((e=>o=>{if(!o.name.includes("core/"))return React.createElement(e,o);const{attributes:m,setAttributes:d}=o,b=[];p.forEach((e=>{c.forEach((t=>{b[`${e}_${t}`]={},l.forEach((n=>{b[`${e}_${t}`][`${n}`]=m[`${e}_${n}_${t}`]}))}))}));const g={desktop:"❗These apply to all screensizes (if not explicitly set)",tablet:"❗ Overwrite / set for scren up to 1024px",mobile:"❗ Overwrite / set for scren up to 768px"};return React.createElement(t,null,React.createElement(e,o),React.createElement(t,null,React.createElement(i,null,React.createElement(a,{title:wp.i18n.__("🛎️ Custom Spacing ","yours59"),help:wp.i18n.__("Adjust Block Spacings","yours59"),initialOpen:!0},React.createElement(s,{className:"boxcontrol--no_unit",activeClass:"active-tab",orientation:"horizontal",initialTabName:"desktop",tabs:[{name:"desktop",title:"Desktop",className:"tab-desktop"},{name:"tablet",title:"Tablet",className:"tab-tablet"},{name:"mobile",title:"Mobil",className:"tab-mobile"}]},(e=>React.createElement(React.Fragment,null,React.createElement(n,{label:wp.i18n.__(`Enable custom spacing for ${e.name}.`,"yours59")+g[e.name],checked:!!m[`enableCustomSpacing_${e.name}`],onChange:t=>{!1===t&&d({[`enableCustomSpacing_${e.name}`]:t}),d({[`enableCustomSpacing_${e.name}`]:t})}}),m[`enableCustomSpacing_${e.name}`]&&React.createElement(React.Fragment,null,u&&u.show_margin&&React.createElement(r,{label:"Margin",units:["var"],values:b[`${e.name}_margin`],disableUnits:!0,onChange:t=>{((e,t)=>{const n={};for(const[a,s]of Object.entries(t))n[`${e}_${a}_margin`]=s;d(n)})(e.name,t)},inputProps:{min:u.min?u.min:-20,max:u.max?u.max:20,step:u.step_width?u.step_width:.25}}),u&&u.show_padding&&React.createElement(r,{label:"Padding",units:["var"],values:b[`${e.name}_padding`],disableUnits:!0,onChange:t=>{((e,t)=>{const n={};for(const[a,s]of Object.entries(t))n[`${e}_${a}_padding`]=s;d(n)})(e.name,t)},inputProps:{min:u.min?u.min:-20,max:u.max?u.max:20,step:u.step_width?u.step_width:.25}})))))))))}),"addGapsToCoreBlocksInspector");function b(e){let t=e.charAt(0);const n=/_([a-z])/gm;let a;for(;null!==(a=n.exec(e));)a.index===n.lastIndex&&n.lastIndex++,t+=a[0];return t}wp.hooks.addFilter("editor.BlockEdit","yours59/inspector",d);const g=wp.compose.createHigherOrderComponent((t=>n=>{if(!n.name.includes("core/"))return n.name.includes("getwid/images-slider")&&n.attributes.images&&n.attributes.images.length,React.createElement(t,n);const a=m(),{enableCustomSpacing_desktop:s,enableCustomSpacing_tablet:o,enableCustomSpacing_mobile:i}=n.attributes,r=n.wrapperProps?n.wrapperProps:{};if(n&&n.attributes&&n.attributes.style){const e=n.attributes.style;delete e.temp,a.forEach((t=>{const n=b(t);delete e[`--${n}`]})),r.style={...e},Object.assign(n.attributes,{style:{...e}})}const l={};if(["desktop","tablet","mobile"].forEach((e=>{n.attributes[`enableCustomSpacing_${e}`]&&a.filter((t=>t.includes(e))).forEach((e=>{if("undefined"!=n.attributes[e]){const t="--"+b(e);l[t]=n.attributes[e]}}))})),s||o||i){const e={...n.attributes.style,...l};r.style={...e},Object.assign(n.attributes,{style:{...e}})}return React.createElement(t,e({},n,{wrapperProps:r}))}),"yours59_blockgap_editor_classes_styles");wp.hooks.addFilter("editor.BlockListBlock","yours59/yours59_blockgap_editor_classes_styles",g),wp.hooks.addFilter("blocks.getSaveContent.extraProps","yours59/extraProps",(function(e,t,n){if(t.name.includes("core/")){const{enableCustomSpacing_desktop:t,enableCustomSpacing_tablet:a,enableCustomSpacing_mobile:s}=n,o={},i=m();["desktop","tablet","mobile"].forEach((e=>{n[`enableCustomSpacing_${e}`]&&i.filter((t=>t.includes(e))).forEach((e=>{if("undefined"!=n[e]){const t="--"+b(e);o[t]=n[e]}}))})),(t||a||s)&&Object.assign(e,{style:{...e.style,...o}})}return e}))})();
(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},e.apply(this,arguments)}const{Fragment:t}=wp.element,{ToggleControl:a,PanelBody:n,TabPanel:s,__experimentalBoxControl:o}=wp.components,{InspectorControls:i}=wp.blockEditor,r=o,l=["top","bottom","left","right"],c=["margin","padding"],p=["desktop","tablet","mobile"],m=window.yours59_spacings_server_side_settings?window.yours59_spacings_server_side_settings:{expanded_panel:!1,show_margin:!0,show_padding:!0,min:-20,max:20,step_width:.125};function u(){const e=[];return p.forEach((t=>{l.forEach((a=>{c.forEach((n=>{e.push(`${t}_${a}_${n}`)}))}))})),e}wp.hooks.addFilter("blocks.registerBlockType","yours59/filters",(function(e,t){if(!1===t.includes("core/"))return e;const a={};return u().forEach((e=>{a[e]={type:"string",default:"undefined"}})),void 0!==e.attributes&&Object.assign(e.attributes,{enableCustomSpacing_desktop:{type:"boolean",default:!1},enableCustomSpacing_tablet:{type:"boolean",default:!1},enableCustomSpacing_mobile:{type:"boolean",default:!1},...a}),e}));const d=wp.compose.createHigherOrderComponent((e=>o=>{if(!o.name.includes("core/"))return React.createElement(e,o);const{attributes:u,setAttributes:d}=o,b=[];p.forEach((e=>{c.forEach((t=>{b[`${e}_${t}`]={},l.forEach((a=>{b[`${e}_${t}`][`${a}`]=u[`${e}_${a}_${t}`]}))}))}));const _={desktop:"❗These apply to all screensizes (if not explicitly set)",tablet:"❗ Overwrite / set for scren up to 1024px",mobile:"❗ Overwrite / set for scren up to 768px"};return React.createElement(t,null,React.createElement(e,o),React.createElement(t,null,React.createElement(i,null,React.createElement(n,{title:wp.i18n.__("🛎️ Custom Spacing ","yours59"),help:wp.i18n.__("Adjust Block Spacings","yours59"),initialOpen:m.expanded_panel},React.createElement(s,{className:"boxcontrol--no_unit",activeClass:"active-tab",orientation:"horizontal",initialTabName:"desktop",tabs:[{name:"desktop",title:"Desktop",className:"tab-desktop"},{name:"tablet",title:"Tablet",className:"tab-tablet"},{name:"mobile",title:"Mobil",className:"tab-mobile"}]},(e=>React.createElement(React.Fragment,null,React.createElement(a,{label:wp.i18n.__(`Enable custom spacing for ${e.name}.`,"yours59")+_[e.name],checked:!!u[`enableCustomSpacing_${e.name}`],onChange:t=>{!1===t&&d({[`enableCustomSpacing_${e.name}`]:t}),d({[`enableCustomSpacing_${e.name}`]:t})}}),u[`enableCustomSpacing_${e.name}`]&&React.createElement(React.Fragment,null,m&&m.show_margin&&React.createElement(r,{label:"Margin",units:["var"],values:b[`${e.name}_margin`],disableUnits:!0,onChange:t=>{((e,t)=>{const a={};for(const[n,s]of Object.entries(t))a[`${e}_${n}_margin`]=s;d(a)})(e.name,t)},inputProps:{min:m.min?m.min:-20,max:m.max?m.max:20,step:m.step_width?m.step_width:.25}}),m&&m.show_padding&&React.createElement(r,{label:"Padding",units:["var"],values:b[`${e.name}_padding`],disableUnits:!0,onChange:t=>{((e,t)=>{const a={};for(const[n,s]of Object.entries(t))a[`${e}_${n}_padding`]=s;d(a)})(e.name,t)},inputProps:{min:m.min?m.min:-20,max:m.max?m.max:20,step:m.step_width?m.step_width:.25}})))))))))}),"addGapsToCoreBlocksInspector");function b(e){let t=e.charAt(0);const a=/_([a-z])/gm;let n;for(;null!==(n=a.exec(e));)n.index===a.lastIndex&&a.lastIndex++,t+=n[0];return t}wp.hooks.addFilter("editor.BlockEdit","yours59/inspector",d);const _=wp.compose.createHigherOrderComponent((t=>a=>{if(!a.name.includes("core/"))return React.createElement(t,a);const n=u(),{enableCustomSpacing_desktop:s,enableCustomSpacing_tablet:o,enableCustomSpacing_mobile:i}=a.attributes,r=a.wrapperProps?a.wrapperProps:{};if(a&&a.attributes&&a.attributes.style){const e=a.attributes.style;delete e.temp,n.forEach((t=>{const a=b(t);delete e[`--${a}`]})),r.style={...e},Object.assign(a.attributes,{style:{...e}})}const l={};if(["desktop","tablet","mobile"].forEach((e=>{a.attributes[`enableCustomSpacing_${e}`]&&n.filter((t=>t.includes(e))).forEach((e=>{if("undefined"!=a.attributes[e]){const t="--"+b(e);l[t]=a.attributes[e]}}))})),s||o||i){const e={...a.attributes.style,...l};r.style={...e},Object.assign(a.attributes,{style:{...e}})}return React.createElement(t,e({},a,{wrapperProps:r}))}),"yours59_spacings_editor_classes_styles");wp.hooks.addFilter("editor.BlockListBlock","yours59/yours59_spacings_editor_classes_styles",_),wp.hooks.addFilter("blocks.getSaveContent.extraProps","yours59/extraProps",(function(e,t,a){if(t.name.includes("core/")){const{enableCustomSpacing_desktop:t,enableCustomSpacing_tablet:n,enableCustomSpacing_mobile:s}=a,o={},i=u();return["desktop","tablet","mobile"].forEach((e=>{a[`enableCustomSpacing_${e}`]&&i.filter((t=>t.includes(e))).forEach((e=>{if("undefined"!=a[e]){const t="--"+b(e);o[t]=a[e]}}))})),(t||n||s)&&Object.assign(e,{style:{...e.style,...o}}),e}}))})();